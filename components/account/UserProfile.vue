<template>
  <div class="bg-color_11">
    <div class="flex items-center mb-5">
      <div class="flex justify-center items-center w-15 h-15 overflow-hidden rounded-[50%]">
        <img class="w-full h-full object-cover" src="/img/4.png" alt="" />
      </div>
      <div class="flex-1 text-color_9 text-sm leading-5 pl-2.5">
        <p class="user-title">T√†i kho·∫£n c·ªßa</p>
        <h2 class="text-color_6 font-medium text-xl leading-[26px] mt-[5px]">D∆∞∆°ng Tu·∫•n Minh</h2>
      </div>
    </div>
    <div>
      <ul>
        <li class="cursor-pointer" v-for="(item, index) in menuItems" :key="index">
          <div class="flex items-center justify-between text-base leading-6 p-5 border-b border-gray" @click="toggleItem(item)">
            <div class="flex items-center">
              <div :class="item.icon"></div>
              <div class="ml-2">
                <NuxtLink :to="item.url">
                  {{ item.title }}
                </NuxtLink>
              </div>
            </div>
            <div v-if="item.children && item.children.length" :class="item.open ? 'i-mdi:chevron-up md:text-2xl' : 'i-mdi:chevron-down md:text-xl'"></div>
          </div>
          <div class="overflow-auto transition-all scrollbar-hide" :class="item.open && index === 0 ? 'h-32 duration-500' : 'h-0 duration-500'">
            <div v-for="(childItem, childIndex) in item.children" :key="childIndex">
              <div class="flex items-center text-base leading-6 p-5 ml-8">
                <NuxtLink :to="childItem.url">
                  {{ childItem.title }}
                </NuxtLink>
              </div>
            </div>
          </div>
        </li>
      </ul>
    </div>
  </div>
</template>
<script setup>
const menuItems = ref([
  {
    title: "T√†i kho·∫£n c·ªßa t√¥i",
    icon: "i-mdi:lead-pencil text-xl",
    url: "/tai-khoan/ho-so",
    open: false,
    children: [
      {
        title: "H·ªì s∆° c·ªßa t√¥i",
        children: [],
        url: "/tai-khoan/ho-so",
      },
      {
        title: "K√≠ch ho·∫°t kh√≥a h·ªçc",
        children: [],
        url: "/tai-khoan/kich-hoat-khoa-hoc",
      },
    ],
  },
  {
    title: "Kh√≥a h·ªçc c·ªßa t√¥i",
    icon: "i-mdi:bookmark-outline text-xl",
    open: false,
    url: "/tai-khoan/khoa-hoc-cua-toi",
  },
  {
    title: "Ch·ªß ƒë·ªÅ quan t√¢m",
    icon: "i-mdi:star-outline text-xl",
    open: false,
    url: "/tai-khoan/chu-de-quan-tam",
  },
  {
    title: "Kh√≥a h·ªçc ƒë√£ xem",
    icon: "i-mdi:eye",
    open: false,
    url: "/tai-khoan/khoa-hoc-da-xem",
  },
  {
    title: "∆Øu ƒë√£i",
    icon: "i-mdi:cards-heart-outline text-xl",
    open: false,
    url: "/tai-khoan/uu-dai",
  },
  {
    title: "Th√¥ng b√°o",
    icon: "i-mdi:bell-ring-outline text-xl",
    open: false,
    url: "/tai-khoan/thong-bao",
  },
  {
    title: "ƒê∆°n h√†ng",
    icon: "i-mdi:cart-arrow-down text-xl",
    open: false,
    url: "/tai-khoan/don-hang",
  },
])

function toggleItem(item) {
  console.log("üöÄ ~ file: UserProfile.vue:99 ~ toggleItem ~ item:", item)
  item.open = !item.open
}
</script>
<style scoped>
.scrollbar-hide::-webkit-scrollbar {
  display: none;
}
</style>
